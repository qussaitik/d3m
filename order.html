<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ | Ø§Ù„Ù…ØµÙŠØ¨Ø©</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --accent-cyan: #00f2ea;
            --accent-pink: #ff00ff;
            --glass: rgba(255, 255, 255, 0.08);
        }

        body { 
            font-family: 'Tajawal', sans-serif; 
            background: #0f0c29; 
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            display: flex; justify-content: center; align-items: center; 
            height: 100vh; margin: 0; color: white; overflow: hidden;
        }

        .order-card {
            background: var(--glass);
            backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: 30px;
            width: 90%;
            max-width: 400px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 50px rgba(0,0,0,0.4);
            text-align: center;
            animation: slideUp 0.6s ease;
        }

        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        h2 { 
            font-weight: 900; font-size: 28px; margin-bottom: 30px;
            background: linear-gradient(to right, var(--accent-cyan), var(--accent-pink));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }

        .input-group { margin-bottom: 20px; text-align: right; }
        label { display: block; margin-bottom: 8px; font-weight: bold; color: var(--accent-cyan); font-size: 14px; padding-right: 5px; }
        
        input { 
            width: 100%; padding: 15px; border-radius: 12px; border: none;
            background: rgba(255, 255, 255, 0.1); color: white;
            box-sizing: border-box; font-family: 'Tajawal'; outline: none;
            transition: 0.3s; font-size: 16px;
        }
        input:focus { background: rgba(255, 255, 255, 0.15); box-shadow: 0 0 15px var(--accent-cyan); }

        .btn-submit { 
            width: 100%; padding: 16px; margin-top: 10px; border-radius: 12px;
            border: none; background: linear-gradient(45deg, var(--accent-cyan), #667eea);
            color: #111; font-weight: 900; font-size: 18px; cursor: pointer;
            transition: 0.4s; box-shadow: 0 10px 20px rgba(0, 242, 234, 0.2);
        }
        .btn-submit:hover { transform: scale(1.03); filter: brightness(1.1); }

        /* Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯ (Pop-up) */
        .modal { 
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.85); backdrop-filter: blur(10px);
            justify-content: center; align-items: center; z-index: 1000; 
        }
        .modal-content { 
            background: #1a1a2e; padding: 35px; border-radius: 25px; 
            text-align: center; width: 320px; border: 2px solid var(--accent-pink);
            box-shadow: 0 0 30px rgba(255, 0, 255, 0.2);
        }
        .modal-content p { font-size: 18px; margin-bottom: 25px; font-weight: bold; line-height: 1.6; }
        
        .btn-whatsapp { 
            background: #25D366; color: white; border: none; padding: 15px; 
            border-radius: 12px; cursor: pointer; font-family: 'Tajawal'; 
            font-weight: 900; font-size: 16px; width: 100%; transition: 0.3s;
        }
        .btn-whatsapp:hover { background: #1da851; transform: translateY(-2px); }
    </style>
</head>
<body>

    <div class="order-card">
        <h2 id="service-title">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨</h2>
        
        <div class="input-group">
            <label>Ø±Ø§Ø¨Ø· Ø§Ù„Ø­Ø³Ø§Ø¨ Ø£Ùˆ Ø§Ù„Ù…Ù†Ø´ÙˆØ±</label>
            <input type="text" id="link" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
        </div>

        <div class="input-group">
            <label>Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</label>
            <input type="number" id="qty" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨">
        </div>

        <button class="btn-submit" onclick="submitToAdmin()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
    </div>

    <div id="confirmModal" class="modal">
        <div class="modal-content">
            <p>ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­!<br>ÙŠØ±Ø¬Ù‰ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¹Ø¨Ø± Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨.</p>
            <button class="btn-whatsapp" onclick="confirmToWhatsApp()">ØªØ£ÙƒÙŠØ¯ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ âœ…</button>
        </div>
    </div>

    <script>
        // Ø¬Ù„Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© Ù…Ù† Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
        const currentService = localStorage.getItem('chosenService') || "Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©";
        document.getElementById('service-title').innerText = "Ø·Ù„Ø¨ " + currentService;

        function submitToAdmin() {
            const linkVal = document.getElementById('link').value;
            const qtyVal = document.getElementById('qty').value;
            
            if(!linkVal || !qtyVal) {
                alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒØ§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©.");
                return;
            }

            // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø·Ù„Ø¨ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø¯Ù…Ù† Ø§Ù„Ù…Ø­Ù„ÙŠØ©
            let db = JSON.parse(localStorage.getItem('database')) || [];
            db.push({
                user: sessionStorage.getItem('currentUser') || "Ø²Ø§Ø¦Ø± Ø±Ø³Ù…ÙŠ",
                service: currentService,
                link: linkVal,
                qty: qtyVal,
                date: new Date().toLocaleString()
            });
            localStorage.setItem('database', JSON.stringify(db));

            // ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯
            document.getElementById('confirmModal').style.display = 'flex';
        }

        function confirmToWhatsApp() {
            const linkVal = document.getElementById('link').value;
            const qtyVal = document.getElementById('qty').value;
            const user = sessionStorage.getItem('currentUser') || "Ù…Ø´Ø±Ù";
            const phoneNumber = "972555630038"; // Ø±Ù‚Ù…Ùƒ Ø§Ù„Ø´Ø®ØµÙŠ ÙŠØ§ Ù‚ØµÙŠ
            
            const text = `*Ø¥Ø®Ø·Ø§Ø± Ø¨Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ - Ù…Ù†ØµØ© Ø§Ù„Ù…ØµÙŠØ¨Ø©*%0A%0A` +
                         `*ğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„:* ${user}%0A` +
                         `*ğŸ›  Ø§Ù„Ø®Ø¯Ù…Ø©:* ${currentService}%0A` +
                         `*ğŸ”— Ø§Ù„Ø±Ø§Ø¨Ø·:* ${linkVal}%0A` +
                         `*ğŸ”¢ Ø§Ù„ÙƒÙ…ÙŠØ©:* ${qtyVal}%0A` +
                         `*ğŸ“… ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ù„Ø¨:* ${new Date().toLocaleString()}`;

            window.location.href = `https://wa.me/${phoneNumber}?text=${text}`;
        }
    </script>
</body>
</html>
